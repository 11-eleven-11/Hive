<!doctype html>

<html>

<head>
  <title>Run on Bitcoin</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- <link rel="stylesheet" -->
  <!-- href="http://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/styles/a11y-light.min.css"> -->
  <!-- <script src="http://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js"></script> -->

  <link rel="stylesheet" type="text/css" href="assets/styles/index.css">
  <link rel="stylesheet" type="text/css" href="assets/styles/search.css">
  <link rel="stylesheet" type="text/css" href="assets/styles/prism.css">
</head>

<body>

</body>


<script src="assets/scripts/bsv.browser.min.js"></script>
<script src="assets/scripts/run.browser.min.js"></script>
<script src="assets/scripts/star.browser.min.js"></script>
<script src="assets/scripts/prism.js"></script>

<script>
    const run = new Run({network: 'mock'});

    class Hive extends Jig {
        init(name, owner, category, satoshis, image) {
            this.name = name;
            this.owner = owner;
            this.owners = [];
            this.owners.push(owner);
            this.category = category;
            this.satoshis = satoshis;
            this.image = image;
        }

        addOwner(owner) {
            this.owners.push(owner);
        }

        getNumberOfUsers() {
            return this.owners.length;
        }

    }

    class HiveNode extends Jig {
      init(name, owner, url, mediaData, previousNode) {
          this.name = name;
          this.owner = owner;
          this.url = url;
          this.mediaData = mediaData;
          this.previousNode = previousNode;
      }
    }

    // TODO: run.purse.address correct?
    const hive = new Hive(
        "foobar",
        run.owner.pubkey.toString(),
        "Category",
        40000,
        "image");

    console.log("Hive.owner: " + hive.owner);
    console.log("Hive.name: " + hive.name);
    console.log("Hive.category: " + hive.category);
    console.log("Hive.satoshis: " + hive.satoshis);
    console.log("Hive.image: " + hive.image);
    console.dir(hive.owners);
    //TODO
    //console.log("Hive.getNumberOfNodes(): " + hive.getNumberOfNodes());
    console.log("Hive.getNumberOfUsers(): " + hive.getNumberOfUsers());

    const hiveNode = new HiveNode(
        "test",
        run.owner.pubkey.toString(),
        "www.google.com",
        "image?",
        null);

    console.log("HiveNode.owner: " + hiveNode.owner)
    console.log("HiveNode.name: " + hiveNode.name)
    console.log("HiveNode.url: " + hiveNode.url)
    console.log("HiveNode.mediaData: " + hiveNode.mediaData)
    console.log("HiveNode.previousNode: " + hiveNode.previousNode)
</script>

</html>
